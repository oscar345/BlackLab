<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Term frequencies | BlackLab</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Documentation for the corpus search engine BlackLab">
    
    <link rel="preload" href="/BlackLab/assets/css/0.styles.aa490f7f.css" as="style"><link rel="preload" href="/BlackLab/assets/js/app.c3fb71c0.js" as="script"><link rel="preload" href="/BlackLab/assets/js/2.fda51561.js" as="script"><link rel="preload" href="/BlackLab/assets/js/63.797ae737.js" as="script"><link rel="prefetch" href="/BlackLab/assets/js/10.9a0b140c.js"><link rel="prefetch" href="/BlackLab/assets/js/11.8b9b6448.js"><link rel="prefetch" href="/BlackLab/assets/js/12.4e77a40b.js"><link rel="prefetch" href="/BlackLab/assets/js/13.b70bf4be.js"><link rel="prefetch" href="/BlackLab/assets/js/14.595cf659.js"><link rel="prefetch" href="/BlackLab/assets/js/15.48624602.js"><link rel="prefetch" href="/BlackLab/assets/js/16.fd344c24.js"><link rel="prefetch" href="/BlackLab/assets/js/17.1b68d8de.js"><link rel="prefetch" href="/BlackLab/assets/js/18.45e4b87a.js"><link rel="prefetch" href="/BlackLab/assets/js/19.95441a51.js"><link rel="prefetch" href="/BlackLab/assets/js/20.29c4c756.js"><link rel="prefetch" href="/BlackLab/assets/js/21.4c44534c.js"><link rel="prefetch" href="/BlackLab/assets/js/22.e4229419.js"><link rel="prefetch" href="/BlackLab/assets/js/23.b04bcb1a.js"><link rel="prefetch" href="/BlackLab/assets/js/24.5db9e246.js"><link rel="prefetch" href="/BlackLab/assets/js/25.096aef46.js"><link rel="prefetch" href="/BlackLab/assets/js/26.9e02e6b1.js"><link rel="prefetch" href="/BlackLab/assets/js/27.9679033c.js"><link rel="prefetch" href="/BlackLab/assets/js/28.dab81fc3.js"><link rel="prefetch" href="/BlackLab/assets/js/29.fa3b25a9.js"><link rel="prefetch" href="/BlackLab/assets/js/3.5361482d.js"><link rel="prefetch" href="/BlackLab/assets/js/30.8fba10fd.js"><link rel="prefetch" href="/BlackLab/assets/js/31.969feee1.js"><link rel="prefetch" href="/BlackLab/assets/js/32.39aee9b7.js"><link rel="prefetch" href="/BlackLab/assets/js/33.b172e492.js"><link rel="prefetch" href="/BlackLab/assets/js/34.471515a1.js"><link rel="prefetch" href="/BlackLab/assets/js/35.69e4f0d7.js"><link rel="prefetch" href="/BlackLab/assets/js/36.d669058c.js"><link rel="prefetch" href="/BlackLab/assets/js/37.c5e04a0f.js"><link rel="prefetch" href="/BlackLab/assets/js/38.a9e6641c.js"><link rel="prefetch" href="/BlackLab/assets/js/39.50e6b256.js"><link rel="prefetch" href="/BlackLab/assets/js/4.20835d87.js"><link rel="prefetch" href="/BlackLab/assets/js/40.187b5352.js"><link rel="prefetch" href="/BlackLab/assets/js/41.2bb6df29.js"><link rel="prefetch" href="/BlackLab/assets/js/42.01ea4d3b.js"><link rel="prefetch" href="/BlackLab/assets/js/43.8517819f.js"><link rel="prefetch" href="/BlackLab/assets/js/44.f9d17dc5.js"><link rel="prefetch" href="/BlackLab/assets/js/45.b22a64b2.js"><link rel="prefetch" href="/BlackLab/assets/js/46.cb4926f8.js"><link rel="prefetch" href="/BlackLab/assets/js/47.c7e9999e.js"><link rel="prefetch" href="/BlackLab/assets/js/48.a90d7bc2.js"><link rel="prefetch" href="/BlackLab/assets/js/49.63eb5c97.js"><link rel="prefetch" href="/BlackLab/assets/js/5.360d0b41.js"><link rel="prefetch" href="/BlackLab/assets/js/50.b7a34a61.js"><link rel="prefetch" href="/BlackLab/assets/js/51.4a075f78.js"><link rel="prefetch" href="/BlackLab/assets/js/52.5431c763.js"><link rel="prefetch" href="/BlackLab/assets/js/53.06863ff3.js"><link rel="prefetch" href="/BlackLab/assets/js/54.ce5efe4c.js"><link rel="prefetch" href="/BlackLab/assets/js/55.13e8926b.js"><link rel="prefetch" href="/BlackLab/assets/js/56.5cd1f69b.js"><link rel="prefetch" href="/BlackLab/assets/js/57.05004f00.js"><link rel="prefetch" href="/BlackLab/assets/js/58.f0c2ccfd.js"><link rel="prefetch" href="/BlackLab/assets/js/59.de79d6b6.js"><link rel="prefetch" href="/BlackLab/assets/js/6.5510f2da.js"><link rel="prefetch" href="/BlackLab/assets/js/60.dbcb7eea.js"><link rel="prefetch" href="/BlackLab/assets/js/61.df50e767.js"><link rel="prefetch" href="/BlackLab/assets/js/62.fefe9975.js"><link rel="prefetch" href="/BlackLab/assets/js/64.a3d274f4.js"><link rel="prefetch" href="/BlackLab/assets/js/65.a10e192f.js"><link rel="prefetch" href="/BlackLab/assets/js/66.d39aaeb9.js"><link rel="prefetch" href="/BlackLab/assets/js/67.3f893c5f.js"><link rel="prefetch" href="/BlackLab/assets/js/68.59a1245d.js"><link rel="prefetch" href="/BlackLab/assets/js/69.381ecad2.js"><link rel="prefetch" href="/BlackLab/assets/js/7.17884afb.js"><link rel="prefetch" href="/BlackLab/assets/js/70.25ad7071.js"><link rel="prefetch" href="/BlackLab/assets/js/71.35941d52.js"><link rel="prefetch" href="/BlackLab/assets/js/72.8548935f.js"><link rel="prefetch" href="/BlackLab/assets/js/73.43b055e8.js"><link rel="prefetch" href="/BlackLab/assets/js/74.a497359b.js"><link rel="prefetch" href="/BlackLab/assets/js/8.af8e7a8f.js"><link rel="prefetch" href="/BlackLab/assets/js/9.fef3ad8f.js">
    <link rel="stylesheet" href="/BlackLab/assets/css/0.styles.aa490f7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/BlackLab/" class="home-link router-link-active"><!----> <span class="site-name">BlackLab</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/BlackLab/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/BlackLab/server/" class="nav-link router-link-active">
  Webservice
</a></div><div class="nav-item"><a href="/BlackLab/frontend/" class="nav-link">
  Frontend
</a></div><div class="nav-item"><a href="/BlackLab/development/" class="nav-link">
  Developers
</a></div> <a href="https://github.com/INL/BlackLab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/BlackLab/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/BlackLab/server/" class="nav-link router-link-active">
  Webservice
</a></div><div class="nav-item"><a href="/BlackLab/frontend/" class="nav-link">
  Frontend
</a></div><div class="nav-item"><a href="/BlackLab/development/" class="nav-link">
  Developers
</a></div> <a href="https://github.com/INL/BlackLab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/BlackLab/server/" aria-current="page" class="sidebar-link">BlackLab Server</a></li><li><a href="/BlackLab/server/overview.html" class="sidebar-link">How to use</a></li><li><a href="/BlackLab/server/rest-api/" aria-current="page" class="sidebar-link">API reference</a></li><li><a href="/BlackLab/server/from-different-languages.html" class="sidebar-link">Using from different languages</a></li><li><a href="/BlackLab/server/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/BlackLab/server/howtos.html" class="sidebar-link">Tutorials / howtos</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="term-frequencies"><a href="#term-frequencies" class="header-anchor">#</a> Term frequencies</h1> <p>Returns frequencies per term, sorted by descending frequency.</p> <p><strong>URL</strong> : <code>/blacklab-server/&lt;corpus-name&gt;/termfreq</code></p> <p><strong>Method</strong> : <code>GET</code></p> <h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <table><thead><tr><th>Parameter</th> <th>Description</th></tr></thead> <tbody><tr><td><code>annotation</code></td> <td>annotation to get term frequencies for. Default: main annotation (usually <code>word</code>)</td></tr> <tr><td><code>sensitive</code></td> <td>whether or not to list terms case/diacritics sensitively. If not (which is the default), capital letters and diacritics are ignored when counting frequencies, so <code>Het</code>, <code>h√©t</code> en <code>het</code> will be lumped together and the total reported as <code>het</code>. Default: <code>false</code></td></tr> <tr><td><code>first</code></td> <td>first result (0-based) to return. Use this to get a page of results from the total set. Default: <code>0</code></td></tr> <tr><td><code>number</code></td> <td>maximum number to return. Default: <code>20</code>.<br><strong>NOTE:</strong> this value is limited by the <a href="/BlackLab/server/configuration.html#complete-config-file"><code>parameters.pageSize.max</code> setting</a> in <code>blacklab-server.yaml</code>. Pass <code>-1</code> to get the maximum allowed.</td></tr> <tr><td><code>filter</code></td> <td><a href="https://lucene.apache.org/core/8_8_1/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#package.description" target="_blank" rel="noopener noreferrer">Lucene Query Language<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> document filter query</td></tr> <tr><td><code>terms</code></td> <td>comma-separated list of terms for which to get the frequencies. Default: all terms</td></tr></tbody></table> <p><strong>NOTE:</strong> this operation always has to find the frequencies for all terms, even if it only needs to return one page.
Hence there is no <code>waitfortotal</code> parameter like some other operations have (you always have to wait). Results
are cached though, so after the first page is returned, using multiple requests to page through the results should be fast.</p> <h2 id="success-response"><a href="#success-response" class="header-anchor">#</a> Success Response</h2> <p><strong>Code</strong> : <code>200 OK</code></p> <h3 id="content-examples"><a href="#content-examples" class="header-anchor">#</a> Content examples</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;termFreq&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;en&quot;</span><span class="token operator">:</span> <span class="token number">14221</span><span class="token punctuation">,</span>
    <span class="token property">&quot;de&quot;</span><span class="token operator">:</span> <span class="token number">10540</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dat&quot;</span><span class="token operator">:</span> <span class="token number">9546</span><span class="token punctuation">,</span>
    <span class="token property">&quot;van&quot;</span><span class="token operator">:</span> <span class="token number">9313</span><span class="token punctuation">,</span>
    <span class="token property">&quot;te&quot;</span><span class="token operator">:</span> <span class="token number">6922</span><span class="token punctuation">,</span>
    <span class="token property">&quot;het&quot;</span><span class="token operator">:</span> <span class="token number">6760</span><span class="token punctuation">,</span>
    <span class="token property">&quot;met&quot;</span><span class="token operator">:</span> <span class="token number">5468</span><span class="token punctuation">,</span>
    <span class="token property">&quot;een&quot;</span><span class="token operator">:</span> <span class="token number">5261</span><span class="token punctuation">,</span>
    <span class="token property">&quot;in&quot;</span><span class="token operator">:</span> <span class="token number">5101</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is&quot;</span><span class="token operator">:</span> <span class="token number">5061</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ik&quot;</span><span class="token operator">:</span> <span class="token number">4784</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mijn&quot;</span><span class="token operator">:</span> <span class="token number">4649</span><span class="token punctuation">,</span>
    <span class="token property">&quot;niet&quot;</span><span class="token operator">:</span> <span class="token number">4001</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ick&quot;</span><span class="token operator">:</span> <span class="token number">3773</span><span class="token punctuation">,</span>
    <span class="token property">&quot;als&quot;</span><span class="token operator">:</span> <span class="token number">3724</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ende&quot;</span><span class="token operator">:</span> <span class="token number">3510</span><span class="token punctuation">,</span>
    <span class="token property">&quot;den&quot;</span><span class="token operator">:</span> <span class="token number">3439</span><span class="token punctuation">,</span>
    <span class="token property">&quot;die&quot;</span><span class="token operator">:</span> <span class="token number">3370</span><span class="token punctuation">,</span>
    <span class="token property">&quot;soo&quot;</span><span class="token operator">:</span> <span class="token number">3215</span><span class="token punctuation">,</span>
    <span class="token property">&quot;op&quot;</span><span class="token operator">:</span> <span class="token number">3083</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="notes"><a href="#notes" class="header-anchor">#</a> Notes</h2> <p>Regular grouped hits could be used as well and should be decently fast, thanks to an optimization that recognizes this type of query (<code>patt</code> = any token (<code>[]</code>), group by match) and uses a faster path. However, that operation uses the forward index to find term frequencies, whereas this one uses Lucene's term dictionary. We should test for any differences and if there are none (which there shouldn't be), always use the fastest implementation.</p> <p>After that, we could consider removing this endpoint, or we could keep it for convenience and backwards compatibility.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/INL/BlackLab/edit/dev/site/docs/server/rest-api/corpus/termfreq/get.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/6/2023, 10:43:53 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/BlackLab/assets/js/app.c3fb71c0.js" defer></script><script src="/BlackLab/assets/js/2.fda51561.js" defer></script><script src="/BlackLab/assets/js/63.797ae737.js" defer></script>
  </body>
</html>
